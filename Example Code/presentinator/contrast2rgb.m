% contrast [-1..1] -> [0 255]
function rgb = contrast2rgb(contrast)

normLight = [
    0
    0.0050
    0.0295
    0.0506
    0.0761
    0.1111
    0.1426
    0.1687
    0.2020
    0.2365
    0.2629
    0.2953
    0.3298
    0.3547
    0.3815
    0.4242
    0.4666
    0.5089
    0.5525
    0.5919
    0.6308
    0.6745
    0.7248
    0.7771
    0.8249
    0.8655
    0.9102
    0.9564
    1.0042
    1.0544
    1.1020
    1.1419
    1.1909
    1.2439
    1.3028
    1.3637
    1.4215
    1.4744
    1.5348
    1.5956
    1.6573
    1.7197
    1.7797
    1.8400
    1.9037
    1.9701
    2.0401
    2.1097
    2.1709
    2.2308
    2.2943
    2.3600
    2.4294
    2.5019
    2.5723
    2.6419
    2.7134
    2.7903
    2.8756
    2.9607
    3.0383
    3.1271
    3.2196
    3.3085
    3.3958
    3.4848
    3.5650
    3.6521
    3.7384
    3.8332
    3.9332
    4.0240
    4.1000
    4.1898
    4.2861
    4.3871
    4.5131
    4.7698
    5.1051
    5.4451
    5.7899
    6.1266
    6.3269
    6.4289
    6.5287
    6.6385
    6.7469
    6.8725
    7.0021
    7.1230
    7.2484
    7.3824
    7.5270
    7.6870
    7.8407
    7.9706
    8.1035
    8.2456
    8.3986
    8.5710
    8.7665
    8.9512
    9.1455
    9.3440
    9.5486
    9.7435
    9.9291
   10.0855
   10.2661
   10.4509
   10.6435
   10.8441
   11.0430
   11.2143
   11.4117
   11.6076
   11.8175
   12.0361
   12.2349
   12.4097
   12.6300
   12.8639
   13.1457
   13.5383
   13.9178
   14.2669
   14.6574
   15.0189
   15.3016
   15.5875
   15.8541
   16.1157
   16.3843
   16.6685
   16.9802
   17.3275
   17.6283
   17.9765
   18.3310
   18.6907
   19.0416
   19.3638
   19.6247
   19.9218
   20.2263
   20.5405
   20.8984
   21.2620
   21.6067
   21.9660
   22.3278
   22.6851
   23.0426
   23.3771
   23.7191
   24.0922
   24.4831
   24.8734
   25.2591
   25.6389
   26.0260
   26.4450
   26.9322
   27.4023
   27.8190
   28.2328
   28.6740
   29.0883
   29.5406
   30.0282
   30.4548
   30.8895
   31.3690
   31.8463
   32.3175
   32.7965
   33.2032
   33.6114
   34.0752
   34.5834
   35.0985
   35.5584
   35.9091
   36.3274
   36.7265
   37.1852
   37.7461
   38.3249
   38.7887
   39.3644
   39.9507
   40.5628
   41.1971
   41.6362
   42.0832
   42.5849
   42.9563
   43.2813
   43.7529
   44.0366
   44.2673
   44.6644
   45.1752
   45.7429
   46.3682
   46.9704
   47.7216
   48.4916
   49.3228
   50.2038
   51.0394
   51.5769
   52.0509
   52.4763
   52.9484
   53.6207
   54.4270
   55.3313
   56.5688
   57.7392
   58.7325
   59.7884
   60.7414
   61.5761
   62.5541
   63.6233
   64.7444
   65.8131
   66.6417
   67.7024
   68.7834
   69.8970
   71.2582
   72.7488
   74.0733
   75.6839
   77.0513
   78.4433
   79.9621
   81.4567
   82.6340
   84.0200
   85.3414
   86.3608
   87.2208
   87.9739
   88.7246
   90.1639
   91.5382
   92.4784
   94.0636
   95.5432
   96.3092
   97.3387
   98.8265
  100.0000
  ];


x = (contrast+1)/2 * 100; % light level

rgb = zeros(length(x),1);
for i=1:length(x)
    rgb(i) = 0;
    while normLight(rgb(i)+1) < x(i) && rgb(i) < 255 
        rgb(i) = rgb(i)+1;
    end
end

%rgb = ceil(162*( x*111 +1)^0.2-160)-2;

